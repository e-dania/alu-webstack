#!/usr/bin/env bash
# Resolve IP addresses for subdomains of a given domain

domain=$1

if [ -z "$domain" ]; then
  echo "Usage: $0 <domain_name>"
  exit 1
fi

echo "Resolving subdomains for $domain..."
for subdomain in "www" "lb-01" "web-01" "web-02"; do
  ip=$(dig +short ${subdomain}.${domain} | tail -1)
  if [ -n "$ip" ]; then
    echo "${subdomain}.${domain} -> $ip"
  else
    echo "${subdomain}.${domain} -> not found"
  fi
done
